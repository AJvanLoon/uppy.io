"use strict";(self.webpackChunkuppy_io=self.webpackChunkuppy_io||[]).push([[4473],{19416:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var o=i(74848),t=i(28453);const r={title:"Companion 2.0 is here",date:new Date("2020-09-09T00:00:00.000Z"),author:"ife",published:!0,slug:"2020/09/companion-2.0"},a=void 0,s={permalink:"/blog/2020/09/companion-2.0",editUrl:"https://github.com/transloadit/uppy.io/tree/main/blog/2020-09-companion-2.0.md",source:"@site/blog/2020-09-companion-2.0.md",title:"Companion 2.0 is here",description:"We are happy to announce version 2.0 of Companion! \ud83c\udf89 After maintaining and",date:"2020-09-09T00:00:00.000Z",tags:[],readingTime:1.565,hasTruncateMarker:!0,authors:[{name:"ife"}],frontMatter:{title:"Companion 2.0 is here",date:"2020-09-09T00:00:00.000Z",author:"ife",published:!0,slug:"2020/09/companion-2.0"},unlisted:!1,prevItem:{title:"\ud83c\udf83 Uppy 1.22: Webcam camera source, Unsplash and maxTotalFileSize",permalink:"/blog/2020/10/1.22"},nextItem:{title:"Image Editor \ud83c\udf08",permalink:"/blog/2020/07/1.18-image-editor"}},d={authorsImageUrls:[void 0]},l=[{value:"Node &gt;= v10",id:"node--v10",level:2},{value:"Renamed provider options",id:"renamed-provider-options",level:2},{value:"Changed Redirect URIs",id:"changed-redirect-uris",level:2},{value:"Compatibility with Uppy 1.x client",id:"compatibility-with-uppy-1x-client",level:2},{value:"Will Companion v1 still receive updates?",id:"will-companion-v1-still-receive-updates",level:2},{value:"Migrating from Companion 1.x to 2.x",id:"migrating-from-companion-1x-to-2x",level:2}];function c(e){const n={a:"a",code:"code",em:"em",h2:"h2",p:"p",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"We are happy to announce version 2.0 of Companion! \ud83c\udf89 After maintaining and\nimproving the 1.x series for over a year, we're now releasing a major version\nbump on the Companion package. The drive on this release is mainly towards\nfixing some terminology inconsistencies and aligning with Node.js LTS to ease\nthe maintenance burden."}),"\n",(0,o.jsx)(n.p,{children:"So what are the changes you can expect with Companion 2.0?"}),"\n",(0,o.jsx)(n.h2,{id:"node--v10",children:"Node >= v10"}),"\n",(0,o.jsx)(n.p,{children:"Node.js 8.x has reached end-of-life. Consequently, Companion 2.0 has dropped\nsupport for Node.js 6.x and Node.js 8.x, and now requires that you run at least\nNode.js 10.20.1."}),"\n",(0,o.jsx)(n.h2,{id:"renamed-provider-options",children:"Renamed provider options"}),"\n",(0,o.jsxs)(n.p,{children:["Pre 2.0, there were inconsistencies in relation to the provider names. In some\nplaces, the Google Drive provider was referred to as ",(0,o.jsx)(n.em,{children:"google"})," (e.g., in\n",(0,o.jsx)(n.code,{children:"providerOptions"}),") while in some other places, it was referred to as ",(0,o.jsx)(n.em,{children:"drive"}),"\n(e.g., the server endpoints ",(0,o.jsx)(n.code,{children:"/drive/list"}),"). Companion 2.0 now consistently uses\nthe name ",(0,o.jsx)(n.em,{children:"drive"})," everywhere. Similarly, the OneDrive provider was made to have\nthe consistent name ",(0,o.jsx)(n.em,{children:"onedrive"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"changed-redirect-uris",children:"Changed Redirect URIs"}),"\n",(0,o.jsxs)(n.p,{children:["On the topic of consistent naming, we have also made some changes to the\nredirect URIs supplied during the OAuth process. For example, in the case of\nGoogle Drive, the form of the old redirect URI was\n",(0,o.jsx)(n.code,{children:"https://mycompanionwebsite.tld/connect/google/callback"}),". In Companion 2.0, this\nis now changed to ",(0,o.jsx)(n.code,{children:"https://mycompanionwebsite.tld/drive/redirect"}),". This is a\nBreaking Change: you will need to make the corresponding changes to your\nredirect URIs on your Providers' API Dashboards."]}),"\n",(0,o.jsx)(n.h2,{id:"compatibility-with-uppy-1x-client",children:"Compatibility with Uppy 1.x client"}),"\n",(0,o.jsx)(n.p,{children:"Companion 2.0 is compatible with any Uppy 1.x version, so you don't have to\nworry about upgrading your Uppy client installations when you upgrade Companion\non your server."}),"\n",(0,o.jsx)(n.h2,{id:"will-companion-v1-still-receive-updates",children:"Will Companion v1 still receive updates?"}),"\n",(0,o.jsx)(n.p,{children:"Companion 1.x will continue to receive security patches until March 1, 2021."}),"\n",(0,o.jsx)(n.h2,{id:"migrating-from-companion-1x-to-2x",children:"Migrating from Companion 1.x to 2.x"}),"\n",(0,o.jsxs)(n.p,{children:["Given the breaking changes, we've created a\n",(0,o.jsx)(n.a,{href:"https://uppy.io/docs/companion/#Migrating-v1-to-v2",children:"migration tutorial for upgrading from Companion v1 to v2"}),"."]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>s});var o=i(96540);const t={},r=o.createContext(t);function a(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);