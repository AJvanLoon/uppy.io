"use strict";(self.webpackChunkuppy_io=self.webpackChunkuppy_io||[]).push([[1342],{53578:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>l});var i=t(85893),s=t(11151);const r={title:"Uppy 1.27: Drop Target plugin, Vue 3 support, Dashboard dynamic meta fields, \u201cShared with me\u201d in Google Drive",date:new Date("2021-04-05T00:00:00.000Z"),authors:["arturi"],image:"https://uppy.io/img/blog/1.27/drop-target.jpg",published:!0,slug:"2021/04/1.27"},o=void 0,a={permalink:"/blog/2021/04/1.27",editUrl:"https://github.com/transloadit/uppy.io/tree/main/blog/2021-04-1.27.md",source:"@site/blog/2021-04-1.27.md",title:"Uppy 1.27: Drop Target plugin, Vue 3 support, Dashboard dynamic meta fields, \u201cShared with me\u201d in Google Drive",description:"In Uppy 1.27 we\u2019ve added a new @uppy/drop-target plugin, enabled support for",date:"2021-04-05T00:00:00.000Z",formattedDate:"April 5, 2021",tags:[],readingTime:2.65,hasTruncateMarker:!0,authors:[{email:"artur@transloadit.com",name:"Artur Paikin",id:"artur",tagline:"Developer",imageURL:"https://github.com/arturi.png",key:"arturi"}],frontMatter:{title:"Uppy 1.27: Drop Target plugin, Vue 3 support, Dashboard dynamic meta fields, \u201cShared with me\u201d in Google Drive",date:"2021-04-05T00:00:00.000Z",authors:["arturi"],image:"https://uppy.io/img/blog/1.27/drop-target.jpg",published:!0,slug:"2021/04/1.27"},unlisted:!1,prevItem:{title:"Uppy 1.29: Golden Retriever, disableLocalFiles, Webcam previews, uppy.logout",permalink:"/blog/2021/05/1.29"},nextItem:{title:"Uppy 1.26: Dashboard \u201cdisabled\u201d, per-file headers",permalink:"/blog/2021/02/1.26"}},d={authorsImageUrls:[void 0]},l=[{value:"Drop Target",id:"drop-target",level:2},{value:"Google Drive \u201cShared with me\u201d",id:"google-drive-shared-with-me",level:2},{value:"Dashboard Dynamic <code>metaFields</code>",id:"dashboard-dynamic-metafields",level:2},{value:"Vue 3",id:"vue-3",level:2},{value:"Companion CORS and Better Testing",id:"companion-cors-and-better-testing",level:2},{value:"npm 7",id:"npm-7",level:2},{value:"New Linter Rules",id:"new-linter-rules",level:2},{value:"Misc",id:"misc",level:2},{value:"Download",id:"download",level:2}];function p(e){const n={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",small:"small",source:"source",ul:"ul",video:"video",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["In Uppy 1.27 we\u2019ve added a new ",(0,i.jsx)(n.code,{children:"@uppy/drop-target"})," plugin, enabled support for\nVue 3, introduced dynamic ",(0,i.jsx)(n.code,{children:"metaFields"})," option for Dashboard, Google Drive now\nlists documents that have been shared with you."]}),"\n",(0,i.jsxs)(n.video,{alt:"Demo video showing Uppy with Drop Target plugin which allows accepting drag and drop anywhere on a page",poster:"/img/blog/1.26/dashboard-disabled.jpg",muted:!0,autoPlay:!0,loop:!0,children:["\n  ",(0,i.jsx)(n.source,{src:"/img/blog/1.27/drop-target.mp4",type:"video/mp4"}),"\n  Your browser does not support the video tag: https://uppy.io/img/blog/1.27/drop-target.mp4\n"]}),"\n",(0,i.jsx)(n.h2,{id:"drop-target",children:"Drop Target"}),"\n",(0,i.jsxs)(n.p,{children:["With ",(0,i.jsx)(n.code,{children:"@uppy/drop-target"})," it is now possible to turn your whole app / page (or\nany other element, like ",(0,i.jsx)(n.code,{children:"<textarea>"}),", for instance) into a drag-and-drop area:"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Uppy Dashboard UI with drop target plugin",src:t(19257).Z+"",width:"1600",height:"812"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"uppy.use(DropTarget, {\n\ttarget: document.body,\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"google-drive-shared-with-me",children:"Google Drive \u201cShared with me\u201d"}),"\n",(0,i.jsx)(n.p,{children:"If you connect Uppy to Google Drive, you\u2019ll now see a new virtual folder called\n\u201cShared with me\u201d \u2014 there you\u2019ll find (hard to guess, I know), documents that\nhave been shared with you."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Google Drive \u201cShared with me\u201d folder",src:t(35320).Z+"",width:"1226",height:"968"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://github.com/transloadit/uppy/pull/2758",children:"PR #2758"}),"."]}),"\n",(0,i.jsxs)(n.h2,{id:"dashboard-dynamic-metafields",children:["Dashboard Dynamic ",(0,i.jsx)(n.code,{children:"metaFields"})]}),"\n",(0,i.jsx)(n.p,{children:"Sometimes you may want to show specific meta fields for certain type of files.\nFor instance, you may want to show location and alt attribute for images. Now,\ninstead of setting a fixed array of fields, you can pass a function that will be\ncalled for each file, returning an array of fields from it:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:".use(Dashboard, {\n  trigger: '#pick-files',\n  metaFields: (file) => {\n    const fields = [{ id: 'name', name: 'File name' }]\n    if (file.type.startsWith('image/')) {\n      fields.push({ id: 'location', name: 'Photo Location' })\n      fields.push({ id: 'alt', name: 'Alt text' })\n    }\n    return fields\n  },\n})\n"})}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsxs)(n.a,{href:"https://uppy.io/docs/dashboard/#metaFields",children:["Dashboard ",(0,i.jsx)(n.code,{children:"metaFields"})]})," docs\nfor details."]}),"\n",(0,i.jsx)(n.h2,{id:"vue-3",children:"Vue 3"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"@uppy/vue"})," integration now supports Vue 3! This is done by checking the\narguments of the ",(0,i.jsx)(n.code,{children:"render"})," function and determining whether it is using Vue 2 or\n3, and then returning the appropriate rendering method."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://github.com/transloadit/uppy/pull/2755",children:"PR #2755"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"companion-cors-and-better-testing",children:"Companion CORS and Better Testing"}),"\n",(0,i.jsxs)(n.p,{children:["In Companion, we\u2019ve improved unit testing DX\n(",(0,i.jsx)(n.a,{href:"https://github.com/transloadit/uppy/pull/2827",children:"#2827"}),") and switched to using\nthe ",(0,i.jsx)(n.code,{children:"cors"})," module instead of custom cors logic\n(",(0,i.jsx)(n.a,{href:"https://github.com/transloadit/uppy/pull/2823",children:"#2823"}),")."]}),"\n",(0,i.jsxs)(n.p,{children:["@coreprocess submited a fix that allows Companion to serve on a subpath\n(",(0,i.jsx)(n.a,{href:"https://github.com/transloadit/uppy/pull/2797",children:"#2797"}),"), and added Redis pubsub\nscope setting (",(0,i.jsx)(n.a,{href:"https://github.com/transloadit/uppy/pull/2804",children:"#2804"}),")!"]}),"\n",(0,i.jsx)(n.h2,{id:"npm-7",children:"npm 7"}),"\n",(0,i.jsxs)(n.p,{children:["We\u2019ve finally upgraded our monorepo to npm 7 and\n",(0,i.jsx)(n.a,{href:"https://docs.npmjs.com/cli/v7/using-npm/workspaces",children:"Workspaces"}),". If you are a\ncontributor, please upgrade ",(0,i.jsx)(n.code,{children:"npm install npm -g"}),", as npm 7 is now required for\nthe Uppy repo."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/transloadit/uppy/pull/2835",children:"PR #2835"})}),"\n",(0,i.jsx)(n.h2,{id:"new-linter-rules",children:"New Linter Rules"}),"\n",(0,i.jsxs)(n.p,{children:["Quite a few new rules have been added to our eslint-config, which is now mostly\n",(0,i.jsx)(n.code,{children:"eslint-config-transloadit"})," with some custom uppy-specific overrides."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/transloadit/uppy/pull/2796",children:"PR #2796"})}),"\n",(0,i.jsx)(n.h2,{id:"misc",children:"Misc"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"@uppy/xhr-upload: Set headers just before the upload in case options changed\n(#2781 / @rart)"}),"\n",(0,i.jsx)(n.li,{children:"@uppy/aws-s3-multipart: Aws-s3-multipart sends outdated file info to\nupload-success event (#2828 / @goto-bus-stop)"}),"\n",(0,i.jsx)(n.li,{children:"@uppy/aws-s3: removeUploader triggered on uninstall (#2824 / @slawexxx44)"}),"\n",(0,i.jsxs)(n.li,{children:["@uppy/webcam: Fix issue where the modes: ",(0,i.jsx)(n.code,{children:"['audio-only']"})," option was ignored\nwhen getting tracks from the media stream (#2810 / @dominiceden)"]}),"\n",(0,i.jsx)(n.li,{children:"website: Website improvements (#2803 / @nqst)"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["See\n",(0,i.jsx)(n.a,{href:"https://github.com/transloadit/uppy/blob/master/CHANGELOG.md#1270",children:"changelog"}),"\nfor details."]}),"\n",(0,i.jsx)(n.h2,{id:"download",children:"Download"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{className:"TryButton",href:"https://releases.transloadit.com/uppy/v1.27.0/uppy-v1.27.0.zip",children:"Download\nUppy 1.27.0"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.small,{children:["Or ",(0,i.jsx)(n.a,{href:"https://uppy.io/docs/",children:"include from CDN"}),". Note that it\u2019s highly\nrecommended to pick and choose specific Uppy plugins that you need, and install\nthem with ",(0,i.jsx)(n.code,{children:"npm"})," or ",(0,i.jsx)(n.code,{children:"yarn"}),". This is because the bundle includes all Uppy plugins\nat once."]})})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},19257:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/drop-target-ece163fa99fef8451195acc5d4077e73.jpg"},35320:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/shared-with-me-caed07cd7437ba1a316ab05327ce55e7.jpg"},11151:(e,n,t)=>{t.d(n,{Z:()=>a,a:()=>o});var i=t(67294);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);