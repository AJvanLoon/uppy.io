"use strict";(self.webpackChunkuppy_io=self.webpackChunkuppy_io||[]).push([[2867],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>h});var o=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=o.createContext({}),s=function(e){var n=o.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},c=function(e){var n=s(e.components);return o.createElement(l.Provider,{value:n},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},u=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),m=s(t),u=r,h=m["".concat(l,".").concat(u)]||m[u]||d[u]||i;return t?o.createElement(h,a(a({ref:n},c),{},{components:t})):o.createElement(h,a({ref:n},c))}));function h(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,a=new Array(i);a[0]=u;var p={};for(var l in n)hasOwnProperty.call(n,l)&&(p[l]=n[l]);p.originalType=e,p[m]="string"==typeof e?e:r,a[1]=p;for(var s=2;s<i;s++)a[s]=t[s];return o.createElement.apply(null,a)}return o.createElement.apply(null,t)}u.displayName="MDXCreateElement"},2709:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>m,frontMatter:()=>i,metadata:()=>p,toc:()=>s});var o=t(7462),r=(t(7294),t(3905));const i={title:"Companion 2.0 is here",date:new Date("2020-09-09T00:00:00.000Z"),author:"ife",published:!0,slug:"2020/09/companion/2.0"},a=void 0,p={permalink:"/uppy.io/pr-preview/pr-40/blog/2020/09/companion/2.0",editUrl:"https://github.com/transloadit/uppy.io/tree/main/blog/2020-09-companion-2.0.md",source:"@site/blog/2020-09-companion-2.0.md",title:"Companion 2.0 is here",description:"We are happy to announce version 2.0 of Companion! \ud83c\udf89 After maintaining and improving the 1.x series for over a year, we're now releasing a major version bump on the Companion package. The drive on this release is mainly towards fixing some terminology inconsistencies and aligning with Node.js LTS to ease the maintenance burden.",date:"2020-09-09T00:00:00.000Z",formattedDate:"September 9, 2020",tags:[],readingTime:1.565,hasTruncateMarker:!0,authors:[{name:"ife"}],frontMatter:{title:"Companion 2.0 is here",date:"2020-09-09T00:00:00.000Z",author:"ife",published:!0,slug:"2020/09/companion/2.0"},prevItem:{title:"\ud83c\udf83 Uppy 1.22: Webcam camera source, Unsplash and maxTotalFileSize",permalink:"/uppy.io/pr-preview/pr-40/blog/2020/10/1.22"},nextItem:{title:"Image Editor \ud83c\udf08",permalink:"/uppy.io/pr-preview/pr-40/blog/2020/07/1.18/image/editor"}},l={authorsImageUrls:[void 0]},s=[{value:"Node &gt;= v10",id:"node--v10",level:2},{value:"Renamed provider options",id:"renamed-provider-options",level:2},{value:"Changed Redirect URIs",id:"changed-redirect-uris",level:2},{value:"Compatibility with Uppy 1.x client",id:"compatibility-with-uppy-1x-client",level:2},{value:"Will Companion v1 still receive updates?",id:"will-companion-v1-still-receive-updates",level:2},{value:"Migrating from Companion 1.x to 2.x",id:"migrating-from-companion-1x-to-2x",level:2}],c={toc:s};function m(e){let{components:n,...t}=e;return(0,r.kt)("wrapper",(0,o.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"We are happy to announce version 2.0 of Companion! \ud83c\udf89 After maintaining and improving the 1.x series for over a year, we're now releasing a major version bump on the Companion package. The drive on this release is mainly towards fixing some terminology inconsistencies and aligning with Node.js LTS to ease the maintenance burden."),(0,r.kt)("p",null,"So what are the changes you can expect with Companion 2.0?"),(0,r.kt)("h2",{id:"node--v10"},"Node >= v10"),(0,r.kt)("p",null,"Node.js 8.x has reached end-of-life. Consequently, Companion 2.0 has dropped support for Node.js 6.x and Node.js 8.x, and now requires that you run at least Node.js 10.20.1."),(0,r.kt)("h2",{id:"renamed-provider-options"},"Renamed provider options"),(0,r.kt)("p",null,"Pre 2.0, there were inconsistencies in relation to the provider names. In some places, the Google Drive provider was referred to as ",(0,r.kt)("em",{parentName:"p"},"google")," (e.g., in ",(0,r.kt)("inlineCode",{parentName:"p"},"providerOptions"),") while in some other places, it was referred to as ",(0,r.kt)("em",{parentName:"p"},"drive")," (e.g., the server endpoints ",(0,r.kt)("inlineCode",{parentName:"p"},"/drive/list"),"). Companion 2.0 now consistently uses the name ",(0,r.kt)("em",{parentName:"p"},"drive")," everywhere. Similarly, the OneDrive provider was made to have the consistent name ",(0,r.kt)("em",{parentName:"p"},"onedrive"),"."),(0,r.kt)("h2",{id:"changed-redirect-uris"},"Changed Redirect URIs"),(0,r.kt)("p",null,"On the topic of consistent naming, we have also made some changes to the redirect URIs supplied during the OAuth process. For example, in the case of Google Drive, the form of the old redirect URI was ",(0,r.kt)("inlineCode",{parentName:"p"},"https://mycompanionwebsite.tld/connect/google/callback"),". In Companion 2.0, this is now changed to ",(0,r.kt)("inlineCode",{parentName:"p"},"https://mycompanionwebsite.tld/drive/redirect"),". This is a Breaking Change: you will need to make the corresponding changes to your redirect URIs on your Providers' API Dashboards."),(0,r.kt)("h2",{id:"compatibility-with-uppy-1x-client"},"Compatibility with Uppy 1.x client"),(0,r.kt)("p",null,"Companion 2.0 is compatible with any Uppy 1.x version, so you don't have to worry about upgrading your Uppy client installations when you upgrade Companion on your server."),(0,r.kt)("h2",{id:"will-companion-v1-still-receive-updates"},"Will Companion v1 still receive updates?"),(0,r.kt)("p",null,"Companion 1.x will continue to receive security patches until March 1, 2021."),(0,r.kt)("h2",{id:"migrating-from-companion-1x-to-2x"},"Migrating from Companion 1.x to 2.x"),(0,r.kt)("p",null,"Given the breaking changes, we've created a ",(0,r.kt)("a",{parentName:"p",href:"https://uppy.io/docs/companion/#Migrating-v1-to-v2"},"migration tutorial for upgrading from Companion v1 to v2"),"."))}m.isMDXComponent=!0}}]);