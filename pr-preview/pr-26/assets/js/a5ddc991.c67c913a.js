"use strict";(self.webpackChunkuppy_io=self.webpackChunkuppy_io||[]).push([[7826],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>c});var n=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var r=n.createContext({}),p=function(e){var t=n.useContext(r),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(r.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,i=e.originalType,r=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),m=p(a),c=o,h=m["".concat(r,".").concat(c)]||m[c]||u[c]||i;return a?n.createElement(h,l(l({ref:t},d),{},{components:a})):n.createElement(h,l({ref:t},d))}));function c(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=a.length,l=new Array(i);l[0]=m;var s={};for(var r in t)hasOwnProperty.call(t,r)&&(s[r]=t[r]);s.originalType=e,s.mdxType="string"==typeof e?e:o,l[1]=s;for(var p=2;p<i;p++)l[p]=a[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},3612:(e,t,a)=>{a.d(t,{Z:()=>h});var n=a(7294),o=a(6010),i=a(5281),l=a(5999);const s="admonition_LlT9",r="admonitionHeading_tbUL",p="admonitionIcon_kALy",d="admonitionContent_S0QG";const u={note:{infimaClassName:"secondary",iconComponent:function(){return n.createElement("svg",{viewBox:"0 0 14 16"},n.createElement("path",{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))},label:n.createElement(l.Z,{id:"theme.admonition.note",description:"The default label used for the Note admonition (:::note)"},"note")},tip:{infimaClassName:"success",iconComponent:function(){return n.createElement("svg",{viewBox:"0 0 12 16"},n.createElement("path",{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))},label:n.createElement(l.Z,{id:"theme.admonition.tip",description:"The default label used for the Tip admonition (:::tip)"},"tip")},danger:{infimaClassName:"danger",iconComponent:function(){return n.createElement("svg",{viewBox:"0 0 12 16"},n.createElement("path",{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))},label:n.createElement(l.Z,{id:"theme.admonition.danger",description:"The default label used for the Danger admonition (:::danger)"},"danger")},info:{infimaClassName:"info",iconComponent:function(){return n.createElement("svg",{viewBox:"0 0 14 16"},n.createElement("path",{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))},label:n.createElement(l.Z,{id:"theme.admonition.info",description:"The default label used for the Info admonition (:::info)"},"info")},caution:{infimaClassName:"warning",iconComponent:function(){return n.createElement("svg",{viewBox:"0 0 16 16"},n.createElement("path",{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))},label:n.createElement(l.Z,{id:"theme.admonition.caution",description:"The default label used for the Caution admonition (:::caution)"},"caution")}},m={secondary:"note",important:"info",success:"tip",warning:"danger"};function c(e){var t;const{mdxAdmonitionTitle:a,rest:o}=function(e){const t=n.Children.toArray(e),a=t.find((e=>{var t;return n.isValidElement(e)&&"mdxAdmonitionTitle"===(null==(t=e.props)?void 0:t.mdxType)})),o=n.createElement(n.Fragment,null,t.filter((e=>e!==a)));return{mdxAdmonitionTitle:a,rest:o}}(e.children);return{...e,title:null!=(t=e.title)?t:a,children:o}}function h(e){const{children:t,type:a,title:l,icon:h}=c(e),y=function(e){var t;const a=null!=(t=m[e])?t:e;return u[a]||(console.warn('No admonition config found for admonition type "'+a+'". Using Info as fallback.'),u.info)}(a),k=null!=l?l:y.label,{iconComponent:f}=y,b=null!=h?h:n.createElement(f,null);return n.createElement("div",{className:(0,o.Z)(i.k.common.admonition,i.k.common.admonitionType(e.type),"alert","alert--"+y.infimaClassName,s)},n.createElement("div",{className:r},n.createElement("span",{className:p},b),k),n.createElement("div",{className:d},t))}},5162:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(7294),o=a(6010);const i="tabItem_Ymn6";function l(e){let{children:t,hidden:a,className:l}=e;return n.createElement("div",{role:"tabpanel",className:(0,o.Z)(i,l),hidden:a},t)}},5488:(e,t,a)=>{a.d(t,{Z:()=>c});var n=a(7462),o=a(7294),i=a(6010),l=a(2389),s=a(7392),r=a(7094),p=a(2466);const d="tabList__CuJ",u="tabItem_LNqP";function m(e){var t,a;const{lazy:l,block:m,defaultValue:c,values:h,groupId:y,className:k}=e,f=o.Children.map(e.children,(e=>{if((0,o.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),b=null!=h?h:f.map((e=>{let{props:{value:t,label:a,attributes:n}}=e;return{value:t,label:a,attributes:n}})),g=(0,s.l)(b,((e,t)=>e.value===t.value));if(g.length>0)throw new Error('Docusaurus error: Duplicate values "'+g.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.');const N=null===c?c:null!=(t=null!=c?c:null==(a=f.find((e=>e.props.default)))?void 0:a.props.value)?t:f[0].props.value;if(null!==N&&!b.some((e=>e.value===N)))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+N+'" but none of its children has the corresponding value. Available values are: '+b.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");const{tabGroupChoices:v,setTabGroupChoices:T}=(0,r.U)(),[w,C]=(0,o.useState)(N),A=[],{blockElementScrollPositionUntilNextRender:O}=(0,p.o5)();if(null!=y){const e=v[y];null!=e&&e!==w&&b.some((t=>t.value===e))&&C(e)}const x=e=>{const t=e.currentTarget,a=A.indexOf(t),n=b[a].value;n!==w&&(O(t),C(n),null!=y&&T(y,String(n)))},E=e=>{var t;let a=null;switch(e.key){case"ArrowRight":{var n;const t=A.indexOf(e.currentTarget)+1;a=null!=(n=A[t])?n:A[0];break}case"ArrowLeft":{var o;const t=A.indexOf(e.currentTarget)-1;a=null!=(o=A[t])?o:A[A.length-1];break}}null==(t=a)||t.focus()};return o.createElement("div",{className:(0,i.Z)("tabs-container",d)},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":m},k)},b.map((e=>{let{value:t,label:a,attributes:l}=e;return o.createElement("li",(0,n.Z)({role:"tab",tabIndex:w===t?0:-1,"aria-selected":w===t,key:t,ref:e=>A.push(e),onKeyDown:E,onFocus:x,onClick:x},l,{className:(0,i.Z)("tabs__item",u,null==l?void 0:l.className,{"tabs__item--active":w===t})}),null!=a?a:t)}))),l?(0,o.cloneElement)(f.filter((e=>e.props.value===w))[0],{className:"margin-top--md"}):o.createElement("div",{className:"margin-top--md"},f.map(((e,t)=>(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==w})))))}function c(e){const t=(0,l.Z)();return o.createElement(m,(0,n.Z)({key:String(t)},e))}},254:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>p,default:()=>h,frontMatter:()=>r,metadata:()=>d,toc:()=>m});var n=a(7462),o=(a(7294),a(3905)),i=a(5488),l=a(5162),s=a(3612);const r={sidebar_position:1},p="Transloadit",d={unversionedId:"upload-strategies/transloadit",id:"upload-strategies/transloadit",title:"Transloadit",description:"The @uppy/transloadit plugin can be used to upload files directly to Transloadit for all kinds of processing,",source:"@site/docs/upload-strategies/transloadit.mdx",sourceDirName:"upload-strategies",slug:"/upload-strategies/transloadit",permalink:"/uppy.io/pr-preview/pr-26/docs/upload-strategies/transloadit",draft:!1,editUrl:"https://github.com/transloadit/uppy.io/tree/main/docs/upload-strategies/transloadit.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Zoom",permalink:"/uppy.io/pr-preview/pr-26/docs/sources/companion-plugins/zoom"},next:{title:"Tus",permalink:"/uppy.io/pr-preview/pr-26/docs/upload-strategies/tus"}},u={},m=[{value:"When should I use it?",id:"when-should-i-use-it",level:2},{value:"Install",id:"install",level:2},{value:"Use",id:"use",level:2},{value:"Use with Companion",id:"use-with-companion",level:3},{value:"API",id:"api",level:2},{value:"Options",id:"options",level:3},{value:"<code>id</code>",id:"id",level:4},{value:"<code>service</code>",id:"service",level:4},{value:"<code>limit</code>",id:"limit",level:4},{value:"<code>assemblyOptions</code>",id:"assemblyoptions",level:4},{value:"<code>waitForEncoding</code>",id:"waitforencoding",level:4},{value:"<code>waitForMetadata</code>",id:"waitformetadata",level:4},{value:"<code>importFromUploadURLs</code>",id:"importfromuploadurls",level:4},{value:"<code>alwaysRunAssembly</code>",id:"alwaysrunassembly",level:4},{value:"<code>locale</code>",id:"locale",level:4},{value:"<code>params</code>",id:"params",level:4},{value:"<code>signature</code>",id:"signature",level:4},{value:"<code>fields</code>",id:"fields",level:4},{value:"Static properties",id:"static-properties",level:3},{value:"<code>Transloadit.COMPANION</code>",id:"transloaditcompanion",level:4},{value:"<code>Transloadit.COMPANION_PATTERN</code>",id:"transloaditcompanion_pattern",level:4},{value:"Events",id:"events",level:3},{value:"<code>transloadit:assembly-created</code>",id:"transloaditassembly-created",level:4},{value:"<code>transloadit:upload</code>",id:"transloaditupload",level:4},{value:"<code>transloadit:assembly-executing</code>",id:"transloaditassembly-executing",level:4},{value:"<code>transloadit:result</code>",id:"transloaditresult",level:4},{value:"<code>transloadit:complete</code>",id:"transloaditcomplete",level:4},{value:"Frequently Asked Questions",id:"frequently-asked-questions",level:2},{value:"Accessing the assembly when an error occurred",id:"accessing-the-assembly-when-an-error-occurred",level:3},{value:"Assembly behavior when Uppy is closed",id:"assembly-behavior-when-uppy-is-closed",level:3}],c={toc:m};function h(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"transloadit"},"Transloadit"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"@uppy/transloadit")," plugin can be used to upload files directly to ",(0,o.kt)("a",{parentName:"p",href:"https://transloadit.com/"},"Transloadit")," for all kinds of processing,\nsuch as transcoding video, resizing images, zipping/unzipping, ",(0,o.kt)("a",{parentName:"p",href:"https://transloadit.com/services/"},"and much more"),"."),(0,o.kt)("h2",{id:"when-should-i-use-it"},"When should I use it?"),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Not sure which upload strategy is best for you? Read \u201c",(0,o.kt)("a",{parentName:"p",href:"/docs/guides/choosing-upload-strategy"},"Choosing the upload strategy you need"),"\u201d.")),(0,o.kt)("p",null,"Transloadit\u2019s strength is versatility.\nBy doing video, audio, images, documents, and more,\nyou only need one vendor for ",(0,o.kt)("a",{parentName:"p",href:"https://transloadit.com/services/"},"all your file processing needs"),".\nThe ",(0,o.kt)("inlineCode",{parentName:"p"},"@uppy/transloadit")," plugin directly uploads to Transloadit\nso you only have to worry about creating a ",(0,o.kt)("a",{parentName:"p",href:"https://transloadit.com/docs/getting-started/concepts/"},"template"),".\nThe Transloadit plugin uses ",(0,o.kt)("a",{parentName:"p",href:"/docs/upload-strategies/tus"},"Tus")," under the hood so you don\u2019t have to sacrifice reliable, resumable uploads."),(0,o.kt)("p",null,"You should use ",(0,o.kt)("inlineCode",{parentName:"p"},"@uppy/transloadit")," if you don\u2019t want to host your own Tus or Companion servers,\n(optionally) need file processing, and store it in the service (such as S3 or GCS) of your liking.\nAll with minimal effort."),(0,o.kt)("h2",{id:"install"},"Install"),(0,o.kt)(i.Z,{mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"npm",label:"NPM",default:!0,mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"npm install @uppy/transloadit\n"))),(0,o.kt)(l.Z,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add @uppy/transloadit\n"))),(0,o.kt)(l.Z,{value:"cdn",label:"CDN",mdxType:"TabItem"},(0,o.kt)(s.Z,{type:"caution",mdxType:"Admonition"},(0,o.kt)("p",null,"The bundle consists of most Uppy plugins, so this method is not recommended for production, as your users will have to download all plugins when you are likely using only a few.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'  \x3c!-- 1. Add CSS to `<head>` --\x3e\n  <link href="https://releases.transloadit.com/uppy/v2.9.0/uppy.min.css" rel="stylesheet">\n\n  \x3c!-- 2. Add JS before the closing `</body>` --\x3e\n  <script src="https://releases.transloadit.com/uppy/v2.9.0/uppy.min.js"><\/script>\n\n  \x3c!-- 3. Initialize --\x3e\n  <div id="uppy"></div>\n  <script>\n    var uppy = new Uppy.Core()\n    uppy.use(Uppy.Transloadit, { /* see options below */ })\n  <\/script>\n')))),(0,o.kt)("h2",{id:"use"},"Use"),(0,o.kt)("p",null,"A quick overview of the complete API."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:"{10-17} showLineNumbers","{10-17}":!0,showLineNumbers:!0},"import Uppy from '@uppy/core'\nimport Dashboard from '@uppy/dashboard'\nimport Transloadit from '@uppy/transloadit'\n\nimport '@uppy/core/dist/style.min.css'\nimport '@uppy/dashboard/dist/style.min.css'\n\nconst uppy = new Uppy\n  .use(Dashboard, { inline: true, target: 'body' })\n  .use(Transloadit, {\n    assemblyOptions: {\n      params: {\n        auth: { key: 'your-transloadit-key' },\n        template_id: 'your-template-id',\n      }\n    },\n  })\n  // Optionally listen to events\n  uppy.on('transloadit:assembly-created', (assembly, fileIDs) => {}\n  uppy.on('transloadit:upload', (file, assembly) => {}\n  uppy.on('transloadit:assembly-executing', (assembly) => {}\n  uppy.on('transloadit:assembly-result', (stepName, result, assembly) => {}\n  uppy.on('transloadit:assembly-complete', (assembly) => {}\n")),(0,o.kt)("h3",{id:"use-with-companion"},"Use with Companion"),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"All ",(0,o.kt)("a",{parentName:"p",href:"https://transloadit/pricing/"},"Transloadit plans")," come with a hosted version of Companion.")),(0,o.kt)("p",null,"You can use this plugin together with Transloadit\u2019s hosted Companion service to let your users import files from third party sources like Dropbox or Instagram.\nTo do so, each provider plugin must be configured with Transloadit\u2019s Companion URLs:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import Transloadit from `@uppy/transloadit`\n\n// ...\nuppy.use(Dropbox, {\n  companionUrl: Transloadit.COMPANION,\n  companionAllowedHosts: Transloadit.COMPANION_PATTERN,\n})\n")),(0,o.kt)("p",null,"Transloadit\u2019s OAuth credentials are used to authenticate your users by default.\nYour users will be asked to give Transloadit access to their files.\nSince your users are probably not aware of Transloadit, this may be confusing or seem untrustworthy.\nYou may also hit rate limits, because the OAuth application is shared between everyone using Transloadit."),(0,o.kt)("p",null,"You can use your own OAuth keys with Transloadit\u2019s hosted Companion servers by using Transloadit Template Credentials.\n",(0,o.kt)("a",{parentName:"p",href:"https://transloadit.com/docs/#how-to-create-template-credentials"},"Create a Template Credential")," on the Transloadit site.\nSelect \u201cCompanion OAuth\u201d for the service, and enter the key and secret for the provider you want to use.\nThen you can pass the name of the new credentials to that provider:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import Transloadit from `@uppy/transloadit`\n\n// ...\nuppy.use(Dropbox, {\n  companionUrl: Transloadit.COMPANION,\n  companionAllowedHosts: Transloadit.COMPANION_PATTERN,\n  companionKeysParams: {\n    key: 'YOUR_TRANSLOADIT_API_KEY',\n    credentialsName: 'my_companion_dropbox_creds',\n  },\n})\n")),(0,o.kt)("h2",{id:"api"},"API"),(0,o.kt)("h3",{id:"options"},"Options"),(0,o.kt)("h4",{id:"id"},(0,o.kt)("inlineCode",{parentName:"h4"},"id")),(0,o.kt)("p",null,"A unique identifier for this plugin (",(0,o.kt)("inlineCode",{parentName:"p"},"String"),", default: ",(0,o.kt)("inlineCode",{parentName:"p"},"'Transloadit'"),")."),(0,o.kt)("h4",{id:"service"},(0,o.kt)("inlineCode",{parentName:"h4"},"service")),(0,o.kt)("p",null,"The Transloadit API URL to use (",(0,o.kt)("inlineCode",{parentName:"p"},"String"),", default: ",(0,o.kt)("inlineCode",{parentName:"p"},"https://api2.transloadit.com"),")."),(0,o.kt)("p",null,"The default will try to route traffic efficiently based on the location of your users.\nYou could for instance set it to ",(0,o.kt)("inlineCode",{parentName:"p"},"https://api2-us-east-1.transloadit.com")," if you need the traffic to stay inside a particular region."),(0,o.kt)("h4",{id:"limit"},(0,o.kt)("inlineCode",{parentName:"h4"},"limit")),(0,o.kt)("p",null,"Limit the amount of uploads going on at the same time (",(0,o.kt)("inlineCode",{parentName:"p"},"Number"),", default: ",(0,o.kt)("inlineCode",{parentName:"p"},"5"),")."),(0,o.kt)("p",null,"Setting this to ",(0,o.kt)("inlineCode",{parentName:"p"},"0")," means no limit on concurrent uploads, but we recommend a value between ",(0,o.kt)("inlineCode",{parentName:"p"},"5")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"20"),".\nThis option is passed through to the ",(0,o.kt)("a",{parentName:"p",href:"/docs/upload-strategies/tus"},(0,o.kt)("inlineCode",{parentName:"a"},"@uppy/tus"))," plugin, which this plugin uses internally."),(0,o.kt)("h4",{id:"assemblyoptions"},(0,o.kt)("inlineCode",{parentName:"h4"},"assemblyOptions")),(0,o.kt)("p",null,"Configure the ",(0,o.kt)("a",{parentName:"p",href:"https://transloadit.com/docs/topics/assembly-instructions/"},"Assembly Instructions"),",\nthe fields to send along to the assembly, and authentication (",(0,o.kt)("inlineCode",{parentName:"p"},"Object")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"Function"),", default: ",(0,o.kt)("inlineCode",{parentName:"p"},"null"),")."),(0,o.kt)("p",null,"The object you can pass or return from a function has this structure:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"{\n  params: {\n    auth: { key: 'key-from-transloadit' },\n    template_id: 'id-from-transloadit',\n    steps: {\n      // Overruling Template at runtime\n    },\n    notify_url: 'https://your-domain.com/assembly-status',\n  },\n  signature: 'generated-signature',\n  fields: {\n    // Dynamic or static fields to send along\n  },\n}\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"params")," is used to authenticate with Transloadit and using your desired ",(0,o.kt)("a",{parentName:"li",href:"https://transloadit.com/docs/topics/templates/"},"template"),".",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"auth.key")," ",(0,o.kt)("em",{parentName:"li"},"(required)")," is your authentication key which you can find on the \u201cCredentials\u201d page of your account."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"template_id")," ",(0,o.kt)("em",{parentName:"li"},"(required)")," is the unique identifier to use the right template from your account."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"steps")," ",(0,o.kt)("em",{parentName:"li"},"(optional)")," can be used to ",(0,o.kt)("a",{parentName:"li",href:"https://transloadit.com/docs/topics/templates/#overruling-templates-at-runtime"},"overrule Templates at runtime"),".\nA typical use case might be changing the storage path on the fly based on the session user id.\nFor most use cases, we recommend to let your Templates handle dynamic cases (they can accept ",(0,o.kt)("inlineCode",{parentName:"li"},"fields")," and execute arbitrary JavaScript as well), and not pass in ",(0,o.kt)("inlineCode",{parentName:"li"},"steps")," from a browser.\nThe template editor has extra validations and context."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"notify_url")," ",(0,o.kt)("em",{parentName:"li"},"(optional)")," is a pingback with the assembly status as JSON.\nFor instance, if you don\u2019t want to block the user experience by letting them wait for your template to complete with ",(0,o.kt)("a",{parentName:"li",href:"#waitForEncoding"},(0,o.kt)("inlineCode",{parentName:"a"},"waitForEncoding")),",\nbut you do want to want to asynchrounously have an update, you can provide an URL which will be \u201cpinged\u201d with the assembly status."))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"signature")," ",(0,o.kt)("em",{parentName:"li"},"(optional, but recommended)")," is a cryptographic signature to provide further trust in unstrusted environments.\nRefer to \u201c",(0,o.kt)("a",{parentName:"li",href:"https://transloadit.com/docs/topics/signature-authentication/"},"Signature Authentication\u201d")," for more information."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"fields")," ",(0,o.kt)("em",{parentName:"li"},"(optional)")," can be used to to send along key/value pairs, which can be ",(0,o.kt)("a",{parentName:"li",href:"https://transloadit.com/docs/topics/assembly-instructions/#form-fields-in-instructions"},"used dynamically in your template"),".")),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"When you go to production always make sure to set the ",(0,o.kt)("inlineCode",{parentName:"p"},"signature"),".\n",(0,o.kt)("strong",{parentName:"p"},"Not using ",(0,o.kt)("a",{parentName:"strong",href:"https://transloadit.com/docs/topics/signature-authentication/"},"Signature Authentication")," can be a security risk"),".\nSignature Authentication is a security measure that can prevent outsiders from tampering with your Assembly Instructions. While Signature Authentication is not implemented (yet), we recommend to enable ",(0,o.kt)("inlineCode",{parentName:"p"},"allow_steps_override")," in your Templates to avoid outsiders being able to pass in any Instructions and storage targets on your behalf.")),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Examples"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"As a function")),(0,o.kt)("p",null,"A custom ",(0,o.kt)("inlineCode",{parentName:"p"},"assemblyOptions()")," option should return an object or a Promise for an object."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"uppy.use(Transloadit, {\n  assemblyOptions (file) {\n    return {\n      params: {\n        auth: { key: 'TRANSLOADIT_AUTH_KEY_HERE' },\n        template_id: 'xyz',\n      },\n      fields: {\n        caption: file.meta.caption,\n      },\n    }\n  },\n})\n")),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"${fields.caption}")," variable will be available in the Assembly spawned from Template ",(0,o.kt)("inlineCode",{parentName:"p"},"xyz"),". You can use this to dynamically watermark images for example."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"assemblyOptions()")," may also return a Promise, so it could retrieve signed Assembly parameters from a server. For example, assuming an endpoint ",(0,o.kt)("inlineCode",{parentName:"p"},"/transloadit-params")," that responds with a JSON object with ",(0,o.kt)("inlineCode",{parentName:"p"},"{ params, signature }")," properties:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"uppy.use(Transloadit, {\n  async assemblyOptions (file) {\n    const res = await fetch('/transloadit-params')\n    return response.json()\n  },\n})\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"As an object")),(0,o.kt)("p",null,"If you don\u2019t need to change anything dynamically, you can also pass an object directly."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"uppy.use(Transloadit, {\n  assemblyOptions: {\n    params: { auth: { key: 'transloadit-key' } },\n  },\n})\n\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Use with @uppy/form")),(0,o.kt)("p",null,"Combine the ",(0,o.kt)("inlineCode",{parentName:"p"},"assemblyOptions()")," option with the ",(0,o.kt)("a",{parentName:"p",href:"/docs/form"},"Form")," plugin to pass user input from a ",(0,o.kt)("inlineCode",{parentName:"p"},"<form>")," to a Transloadit Assembly:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// This will add form field values to each file's `.meta` object:\nuppy.use(Form, { getMetaFromForm: true })\nuppy.use(Transloadit, {\n  getAssemblyOptions (file) {\n    return {\n      params: { /* ... */ },\n      // Pass through the fields you need:\n      fields: {\n        message: file.meta.message,\n      },\n    }\n  },\n})\n"))),(0,o.kt)("h4",{id:"waitforencoding"},(0,o.kt)("inlineCode",{parentName:"h4"},"waitForEncoding")),(0,o.kt)("p",null,"Wait for the template to finish, rather than only the upload, before marking the upload complete (",(0,o.kt)("inlineCode",{parentName:"p"},"Boolean"),", default: ",(0,o.kt)("inlineCode",{parentName:"p"},"false"),")."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"When ",(0,o.kt)("inlineCode",{parentName:"li"},"false"),", the Assemblies will complete (or error) in the background but Uppy won\u2019t know or care about it. You may have to let Transloadit ping you via a ",(0,o.kt)("inlineCode",{parentName:"li"},"notify_url")," and asynchronously inform your user (email, in-app notification)."),(0,o.kt)("li",{parentName:"ul"},"When ",(0,o.kt)("inlineCode",{parentName:"li"},"true"),", the Transloadit plugin waits for Assemblies to complete before the files are marked as completed.\nThis means users have to wait for a potentially long time, depending on how complicated your Assembly instructions are.\nBut, you can receive the final status and transcoding results on the client side with less effort.")),(0,o.kt)("p",null,"When this is enabled, you can listen for the ",(0,o.kt)("a",{parentName:"p",href:"#transloadit-result"},(0,o.kt)("inlineCode",{parentName:"a"},"transloadit:result"))," and ",(0,o.kt)("a",{parentName:"p",href:"#transloadit-complete"},(0,o.kt)("inlineCode",{parentName:"a"},"transloadit:complete"))," events."),(0,o.kt)("h4",{id:"waitformetadata"},(0,o.kt)("inlineCode",{parentName:"h4"},"waitForMetadata")),(0,o.kt)("p",null,"Wait for for Transloadit\u2019s backend to catch early errors, not the entire Assembly to complete. (",(0,o.kt)("inlineCode",{parentName:"p"},"Boolean"),", default: ",(0,o.kt)("inlineCode",{parentName:"p"},"false"),")"),(0,o.kt)("p",null,"When set to ",(0,o.kt)("inlineCode",{parentName:"p"},"true"),", the Transloadit plugin waits for Transloadit\u2019s backend to extract metadata from all the uploaded files.\nThis is mostly handy if you want to have a quick user experience (so your users don\u2019t necessarily need to wait for all the encoding to complete),\nbut you do want to let users know about some types of errors that can be caught early on, like file format issues."),(0,o.kt)("p",null,"You you can listen for the ",(0,o.kt)("a",{parentName:"p",href:"#transloadit-upload"},(0,o.kt)("inlineCode",{parentName:"a"},"transloadit:upload"))," event when it\u2019s enabled."),(0,o.kt)("h4",{id:"importfromuploadurls"},(0,o.kt)("inlineCode",{parentName:"h4"},"importFromUploadURLs")),(0,o.kt)("p",null,"Allow another plugin to upload files, and then import those files into the Transloadit Assembly (",(0,o.kt)("inlineCode",{parentName:"p"},"Boolean"),", default: ",(0,o.kt)("inlineCode",{parentName:"p"},"false"),")."),(0,o.kt)("p",null,"When enabling this option, Transloadit will ",(0,o.kt)("em",{parentName:"p"},"not")," configure the Tus plugin to upload to Transloadit.\nInstead, a separate upload plugin must be used.\nOnce the upload completes, the Transloadit plugin adds the uploaded file to the Assembly."),(0,o.kt)("p",null,"For example, to upload files to an S3 bucket and then transcode them:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"uppy.use(AwsS3, {\n  getUploadParameters (file) {\n    return { /* upload parameters */ }\n  },\n})\nuppy.use(Transloadit, {\n  importFromUploadURLs: true,\n  assemblyOptions: {\n    params: {\n      auth: { key: 'YOUR_API_KEY' },\n      template_id: 'YOUR_TEMPLATE_ID',\n    }\n  },\n})\n")),(0,o.kt)("p",null,"Tranloadit will download the files and expose them to your Template as ",(0,o.kt)("inlineCode",{parentName:"p"},":original"),", just as if they were directly uploaded from the Uppy client.  "),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"For this to work, the upload plugin must assign a publically accessible ",(0,o.kt)("inlineCode",{parentName:"p"},"uploadURL")," property to the uploaded file object.\nThe Tus and S3 plugins both do this automatically.\nFor the XHRUpload plugin, you may have to specify a custom ",(0,o.kt)("inlineCode",{parentName:"p"},"getResponseData")," function.")),(0,o.kt)("h4",{id:"alwaysrunassembly"},(0,o.kt)("inlineCode",{parentName:"h4"},"alwaysRunAssembly")),(0,o.kt)("p",null,"Always create and run an Assembly when ",(0,o.kt)("inlineCode",{parentName:"p"},"uppy.upload()")," is called, even if no files were selected (",(0,o.kt)("inlineCode",{parentName:"p"},"Boolean"),", default: ",(0,o.kt)("inlineCode",{parentName:"p"},"false"),")."),(0,o.kt)("p",null,"This allows running Assemblies that do not receive files,\nbut instead use a robot like ",(0,o.kt)("a",{parentName:"p",href:"https://transloadit.com/docs/transcoding/#s3-import"},(0,o.kt)("inlineCode",{parentName:"a"},"/s3/import"))," to download\nthe files from elsewhere, for example, for a bulk transcoding job."),(0,o.kt)("h4",{id:"locale"},(0,o.kt)("inlineCode",{parentName:"h4"},"locale")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"export default {\n  strings: {\n    // Shown while Assemblies are being created for an upload.\n    creatingAssembly: 'Preparing upload...',\n    // Shown if an Assembly could not be created.\n    creatingAssemblyFailed: 'Transloadit: Could not create Assembly',\n    // Shown after uploads have succeeded, but when the Assembly is still executing.\n    // This only shows if `waitForMetadata` or `waitForEncoding` was enabled.\n    encoding: 'Encoding...',\n  },\n}\n")),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Deprecated options"),(0,o.kt)("p",null,"These options have been deprecated in favor of ",(0,o.kt)("a",{parentName:"p",href:"#assemblyOptions"},(0,o.kt)("inlineCode",{parentName:"a"},"assemblyOptions")),",\nwhich we now recommend for all use cases.\nYou can still use these options, but they will be removed in the next major version."),(0,o.kt)("h4",{id:"params"},(0,o.kt)("inlineCode",{parentName:"h4"},"params")),(0,o.kt)("p",null,"The Assembly parameters to use for the upload (",(0,o.kt)("inlineCode",{parentName:"p"},"Object"),", default: ",(0,o.kt)("inlineCode",{parentName:"p"},"null"),")\nSee the Transloadit documentation on ",(0,o.kt)("a",{parentName:"p",href:"https://transloadit.com/docs/#14-assembly-instructions"},"Assembly Instructions")," for further information."),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"auth.key")," Assembly parameter is required. You can also use the ",(0,o.kt)("inlineCode",{parentName:"p"},"steps")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"template_id")," options here as described in the Transloadit documentation."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"uppy.use(Transloadit, {\n  params: {\n    auth: { key: 'YOUR_TRANSLOADIT_KEY' },\n    steps: {\n      encode: {\n        robot: '/video/encode',\n        use: {\n          steps: [':original'],\n          fields: ['file_input_field2'],\n        },\n        preset: 'iphone',\n      },\n    },\n  },\n})\n")),(0,o.kt)("h4",{id:"signature"},(0,o.kt)("inlineCode",{parentName:"h4"},"signature")),(0,o.kt)("p",null,"An optional signature for the Assembly parameters.\nSee the Transloadit documentation on ",(0,o.kt)("a",{parentName:"p",href:"https://transloadit.com/docs/#26-signature-authentication"},"Signature Authentication")," for further information."),(0,o.kt)("p",null,"If a ",(0,o.kt)("inlineCode",{parentName:"p"},"signature")," is provided, ",(0,o.kt)("inlineCode",{parentName:"p"},"params")," should be a JSON string instead of a JavaScript object,\nas otherwise the generated JSON in the browser may be different from the JSON string that was used to generate the signature."),(0,o.kt)("h4",{id:"fields"},(0,o.kt)("inlineCode",{parentName:"h4"},"fields")),(0,o.kt)("p",null,"An object of form fields to send along to the Assembly.\nKeys are field names, and values are field values.\nSee also the Transloadit documentation on ",(0,o.kt)("a",{parentName:"p",href:"https://transloadit.com/docs/#23-form-fields-in-instructions"},"Form Fields In Instructions"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"uppy.use(Transloadit, {\n  // ...\n  fields: {\n    message: 'This is a form field',\n  },\n})\n")),(0,o.kt)("p",null,"You can also pass an array of field names to send global or file metadata along to the Assembly.\nGlobal metadata is set using the ",(0,o.kt)("a",{parentName:"p",href:"/docs/uppy/#meta"},(0,o.kt)("inlineCode",{parentName:"a"},"meta")," option")," in the Uppy constructor,\nor using the ",(0,o.kt)("a",{parentName:"p",href:"/docs/uppy/#uppy-setMeta-data"},(0,o.kt)("inlineCode",{parentName:"a"},"setMeta")," method"),".\nFile metadata is set using the ",(0,o.kt)("a",{parentName:"p",href:"/docs/uppy/#uppy-setFileMeta-fileID-data"},(0,o.kt)("inlineCode",{parentName:"a"},"setFileMeta"))," method.\nThe ",(0,o.kt)("a",{parentName:"p",href:"/docs/form"},"Form")," plugin also sets global metadata based on the values of ",(0,o.kt)("inlineCode",{parentName:"p"},"<input />"),"s in the form,\nproviding a handy way to use values from HTML form fields:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"uppy.use(Form, { target: 'form#upload-form', getMetaFromForm: true })\nuppy.use(Transloadit, {\n  fields: ['field_name', 'other_field_name'],\n  params: { /* ... */ },\n})\n")),(0,o.kt)("p",null,"Form fields can also be computed dynamically using custom logic, by using the ",(0,o.kt)("a",{parentName:"p",href:"/docs/transloadit/#getAssemblyOptions-file"},(0,o.kt)("inlineCode",{parentName:"a"},"getAssemblyOptions(file)"))," option.")),(0,o.kt)("h3",{id:"static-properties"},"Static properties"),(0,o.kt)("h4",{id:"transloaditcompanion"},(0,o.kt)("inlineCode",{parentName:"h4"},"Transloadit.COMPANION")),(0,o.kt)("p",null,"The main endpoint for Transloadit\u2019s hosted Companions servers. You can use this constant in remote provider options, like so:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import Dropbox from '@uppy/dropbox'\nimport Transloadit from '@uppy/transloadit'\nuppy.use(Dropbox, {\n  companionUrl: Transloadit.COMPANION,\n  companionAllowedHosts: Transloadit.COMPANION_PATTERN,\n})\n")),(0,o.kt)("p",null,"When using ",(0,o.kt)("inlineCode",{parentName:"p"},"Transloadit.COMPANION"),", you should also configure ",(0,o.kt)("a",{parentName:"p",href:"#Transloadit-COMPANION-PATTERN"},(0,o.kt)("inlineCode",{parentName:"a"},"companionAllowedHosts: Transloadit.COMPANION_PATTERN")),"."),(0,o.kt)("p",null,"The value of this constant is ",(0,o.kt)("inlineCode",{parentName:"p"},"https://api2.transloadit.com/companion"),". If you are using a custom ",(0,o.kt)("a",{parentName:"p",href:"#service"},(0,o.kt)("inlineCode",{parentName:"a"},"service"))," option, you should also set a custom host option in your provider plugins, by taking a Transloadit API url and appending ",(0,o.kt)("inlineCode",{parentName:"p"},"/companion"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"uppy.use(Dropbox, {\n  companionUrl: 'https://api2-us-east-1.transloadit.com/companion',\n})\n")),(0,o.kt)("h4",{id:"transloaditcompanion_pattern"},(0,o.kt)("inlineCode",{parentName:"h4"},"Transloadit.COMPANION_PATTERN")),(0,o.kt)("p",null,"A RegExp pattern matching Transloadit\u2019s hosted companion endpoints. The pattern is used in remote provider ",(0,o.kt)("inlineCode",{parentName:"p"},"companionAllowedHosts")," options, to make sure that third party authentication messages cannot be faked by an attacker\u2019s page, but can only originate from Transloadit\u2019s servers."),(0,o.kt)("p",null,"Use it whenever you use ",(0,o.kt)("inlineCode",{parentName:"p"},"companionUrl: Transloadit.COMPANION"),", like so:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import Dropbox from '@uppy/dropbox'\nimport Transloadit from '@uppy/transloadit'\nuppy.use(Dropbox, {\n  companionUrl: Transloadit.COMPANION,\n  companionAllowedHosts: Transloadit.COMPANION_PATTERN,\n})\n")),(0,o.kt)("p",null,"The value of this constant covers ",(0,o.kt)("em",{parentName:"p"},"all")," Transloadit\u2019s Companion servers, so it does not need to be changed if you are using a custom ",(0,o.kt)("a",{parentName:"p",href:"#service"},(0,o.kt)("inlineCode",{parentName:"a"},"service"))," option. But, if you are not using the Transloadit Companion servers at ",(0,o.kt)("inlineCode",{parentName:"p"},"*.transloadit.com"),", make sure to set the ",(0,o.kt)("inlineCode",{parentName:"p"},"companionAllowedHosts")," option to something that matches what you do use."),(0,o.kt)("h3",{id:"events"},"Events"),(0,o.kt)("h4",{id:"transloaditassembly-created"},(0,o.kt)("inlineCode",{parentName:"h4"},"transloadit:assembly-created")),(0,o.kt)("p",null,"Fired when an Assembly is created."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Parameters")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"assembly")," - The initial ",(0,o.kt)("a",{parentName:"li",href:"https://transloadit.com/docs/api/#assembly-status-response"},"Assembly Status"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"fileIDs")," - The IDs of the files that will be uploaded to this Assembly.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"uppy.on('transloadit:assembly-created', (assembly, fileIDs) => {\n  console.group('Created', assembly.assembly_id, 'for files:')\n  for (const id of fileIDs) {\n    console.log(uppy.getFile(id).name)\n  }\n  console.groupEnd()\n})\n")),(0,o.kt)("h4",{id:"transloaditupload"},(0,o.kt)("inlineCode",{parentName:"h4"},"transloadit:upload")),(0,o.kt)("p",null,"Fired when Transloadit has received an upload."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Parameters")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"file")," - The Transloadit file object that was uploaded."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"assembly")," - The ",(0,o.kt)("a",{parentName:"li",href:"https://transloadit.com/docs/api/#assembly-status-response"},"Assembly Status")," of the Assembly to which the file was uploaded.")),(0,o.kt)("h4",{id:"transloaditassembly-executing"},(0,o.kt)("inlineCode",{parentName:"h4"},"transloadit:assembly-executing")),(0,o.kt)("p",null,"Fired when Transloadit has received all uploads, and is executing the Assembly."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Parameters")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"assembly")," - The ",(0,o.kt)("a",{parentName:"li",href:"https://transloadit.com/docs/api/#assembly-status-response"},"Assembly Status")," of the Assembly that is executing.")),(0,o.kt)("h4",{id:"transloaditresult"},(0,o.kt)("inlineCode",{parentName:"h4"},"transloadit:result")),(0,o.kt)("p",null,"Fired when a result came in from an Assembly."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Parameters")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"stepName")," - The name of the Assembly step that generated this result."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"result")," - The result object from Transloadit.\nThis result object has one more property, namely ",(0,o.kt)("inlineCode",{parentName:"li"},"localId"),".\nThis is the ID of the file in Uppy\u2019s local state, and can be used with ",(0,o.kt)("inlineCode",{parentName:"li"},"uppy.getFile(id)"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"assembly")," - The ",(0,o.kt)("a",{parentName:"li",href:"https://transloadit.com/docs/api/#assembly-status-response"},"Assembly Status")," of the Assembly that generated this result.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"uppy.on('transloadit:result', (stepName, result) => {\n  const file = uppy.getFile(result.localId)\n  document.body.appendChild(html`\n    <div>\n      <h2>From ${file.name}</h2>\n      <a href=${result.ssl_url}> View </a>\n    </div>\n  `)\n})\n")),(0,o.kt)("h4",{id:"transloaditcomplete"},(0,o.kt)("inlineCode",{parentName:"h4"},"transloadit:complete")),(0,o.kt)("p",null,"Fired when an Assembly completed."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Parameters")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"assembly")," - The final ",(0,o.kt)("a",{parentName:"li",href:"https://transloadit.com/docs/api/#assembly-status-response"},"Assembly Status")," of the completed Assembly.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"uppy.on('transloadit:complete', (assembly) => {\n  // Could do something fun with this!\n  console.log(assembly.results)\n})\n")),(0,o.kt)("h2",{id:"frequently-asked-questions"},"Frequently Asked Questions"),(0,o.kt)("h3",{id:"accessing-the-assembly-when-an-error-occurred"},"Accessing the assembly when an error occurred"),(0,o.kt)("p",null,"If an error occurs when an Assembly has already started, you can find the Assembly Status on the error object\u2019s ",(0,o.kt)("inlineCode",{parentName:"p"},"assembly")," property."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"uppy.on('error', (error) => {\n  if (error.assembly) {\n    console.log(`Assembly ID ${error.assembly.assembly_id} failed!`)\n    console.log(error.assembly)\n  }\n})\n")),(0,o.kt)("h3",{id:"assembly-behavior-when-uppy-is-closed"},"Assembly behavior when Uppy is closed"),(0,o.kt)("p",null,"When integrating ",(0,o.kt)("inlineCode",{parentName:"p"},"@uppy/transloadit")," with ",(0,o.kt)("inlineCode",{parentName:"p"},"@uppy/dashboard"),",\nclosing the dashboard will result in continuing assemblies on the server.\nWhen the user manually cancels the upload any running assemblies will be cancelled."))}h.isMDXComponent=!0}}]);