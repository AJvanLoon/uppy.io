<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Uppy 0.20: React, Retry &amp; Time Travel | Uppy</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:url" content="https://uppy.io"><meta data-rh="true" name="twitter:card" content="img/og_image.jpg"><meta data-rh="true" name="twitter:domain" content="uppy.io"><meta data-rh="true" name="twitter:url" content="https://uppy.io"><meta data-rh="true" name="twitter:title" content="Uppy"><meta data-rh="true" name="twitter:description" content="Sleek, modular open source JavaScript file uploader"><meta data-rh="true" property="og:title" content="Uppy 0.20: React, Retry &amp; Time Travel | Uppy"><meta data-rh="true" name="description" content="We are proud to present Uppy 0.20. This one focuses on React and Redux"><meta data-rh="true" property="og:description" content="We are proud to present Uppy 0.20. This one focuses on React and Redux"><meta data-rh="true" property="og:image" content="https://uppy.io/img/blog/0.20/dnd-gray.jpg"><meta data-rh="true" name="twitter:image" content="https://uppy.io/img/blog/0.20/dnd-gray.jpg"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2017-10-05T00:00:00.000Z"><link data-rh="true" rel="icon" href="/uppy.io/pr-preview/pr-79/img/logo.svg"><link data-rh="true" rel="canonical" href="https://uppy.io/uppy.io/pr-preview/pr-79/blog/2017/10/0.20"><link data-rh="true" rel="alternate" href="https://uppy.io/uppy.io/pr-preview/pr-79/blog/2017/10/0.20" hreflang="en"><link data-rh="true" rel="alternate" href="https://uppy.io/uppy.io/pr-preview/pr-79/blog/2017/10/0.20" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/uppy.io/pr-preview/pr-79/blog/rss.xml" title="Uppy RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/uppy.io/pr-preview/pr-79/blog/atom.xml" title="Uppy Atom Feed">




<script src="https://analytics.transloadit.com/js/plausible.js" async defer="defer" data-domain="uppy.io"></script>
<script src="https://buttons.github.io/buttons.js" async defer="defer"></script><link rel="stylesheet" href="/uppy.io/pr-preview/pr-79/assets/css/styles.9ded2087.css">
<link rel="preload" href="/uppy.io/pr-preview/pr-79/assets/js/runtime~main.794b5d7d.js" as="script">
<link rel="preload" href="/uppy.io/pr-preview/pr-79/assets/js/main.ca086f97.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/uppy.io/pr-preview/pr-79/"><div class="navbar__logo"><img src="/uppy.io/pr-preview/pr-79/img/logo.svg" alt="Uppy Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/uppy.io/pr-preview/pr-79/img/logo.svg" alt="Uppy Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Uppy</b></a><a class="navbar__item navbar__link" href="/uppy.io/pr-preview/pr-79/docs/quick-start">Docs</a><a class="navbar__item navbar__link" href="/uppy.io/pr-preview/pr-79/examples">Examples</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/uppy.io/pr-preview/pr-79/blog">Blog</a><a href="https://github.com/transloadit/uppy" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://community.transloadit.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://transloadit.com/open-source/support/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/uppy.io/pr-preview/pr-79/blog/2022/12/3.3">🎄 Uppy 3.1-3.3: Improved AWS S3 Multipart, Single File Mode</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/uppy.io/pr-preview/pr-79/blog/2022/09/3.0">Uppy 3.0: Future-proof, conveniently easy, stable as ever</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/uppy.io/pr-preview/pr-79/blog/2022/03/2.4/2.7">Uppy 2.4-2.7: Image Compressor, Transloadit Rate Limiting, ESM</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/uppy.io/pr-preview/pr-79/blog/2021/12/2.1/2.3">🎄 Uppy 2.1-2.3: Audio plugin, fast and efficient streaming for Companion, production-ready Unsplash, and more</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/uppy.io/pr-preview/pr-79/blog/2021/08/2.0">Uppy 2.0.0: smaller, faster, modular plugins, Preact X, stricter types, and much more</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://uppy.io/img/blog/0.20/dnd-gray.jpg"><header><h1 class="title_f1Hy" itemprop="headline">Uppy 0.20: React, Retry &amp; Time Travel</h1><div class="container_mt6G margin-vert--md"><time datetime="2017-10-05T00:00:00.000Z" itemprop="datePublished">October 5, 2017</time> · <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">renee</span></div></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>We are proud to present Uppy <code>0.20</code>. This one focuses on React and Redux
support, adding storage expirations to <code>GoldenRetriever</code> and upload retries.
Enjoy!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="uppy-react-components">Uppy React components<a href="#uppy-react-components" class="hash-link" aria-label="Direct link to Uppy React components" title="Direct link to Uppy React components">​</a></h2><p>Uppy now ships with React components! We’ve been exploring different approaches
to React components for several months, so we’re excited to finally have them in
✨ There are components for each of Uppy’s UI elements, like the Dashboard and
the StatusBar.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> uppy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Uppy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uppy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">Tus10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">endpoint</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/upload&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Dashboard</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;uppy/lib/react/Dashboard&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#d73a49">Uploader</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Dashboard</span><span class="token plain"> uppy</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">uppy</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> note</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Hey! It&#x27;s a React component!&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">ReactDOM</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Uploader</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">querySelector</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;#uploader&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="/uppy.io/pr-preview/pr-79/docs/react/">Check out the docs for more!</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="redux">Redux<a href="#redux" class="hash-link" aria-label="Direct link to Redux" title="Direct link to Redux">​</a></h2><p><a href="https://github.com/richardwillars" target="_blank" rel="noopener noreferrer">@richardwillars</a> contributed a plugin that
will sync Uppy’s internal state with an existing Redux store. To use it, define
a Redux action and reducer:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// The action creator receives 3 parameters:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// - The previous state</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// - The new state</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// - The change set</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">uppyStateUpdate</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">previous</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> next</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> patch</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;UPPY_STATE_UPDATE&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    previous</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    next</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    patch</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">reduce</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">state </span><span class="token parameter operator" style="color:#393A34">=</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> action</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">action</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">type</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;UPPY_STATE_UPDATE&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Merge in the changes.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">action</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">patch</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then pass your Redux store&#x27;s <code>dispatch</code> function and the action creator to the
Redux plugin:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">ReduxStore</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;uppy/lib/Redux&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uppy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">ReduxStore</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">dispatch</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">dispatch</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">action</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> uppyStateUpdate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="/uppy.io/pr-preview/pr-79/docs/redux/">See the docs</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="redux-devtools">Redux DevTools<a href="#redux-devtools" class="hash-link" aria-label="Direct link to Redux DevTools" title="Direct link to Redux DevTools">​</a></h2><p>Even if you&#x27;re not using Redux in your application, there&#x27;s some Redux-related
news! Uppy now has a new plugin, <code>ReduxDevTools</code>, which adds debug support for
Redux DevTools and allows you to time travel while debugging Uppy:</p><figure class="wide"><video alt="Demo video showing Uppy with Redux Dev Tools and time traveling" controls=""><source src="/img/blog/0.20/uppy-reduxdevtools.mp4" type="video/mp4">Your browser does not support the video tag, you can <a href="/uppy.io/pr-preview/pr-79/img/blog/0.20/uppy-reduxdevtools.mp4">download the video</a> to watch it.</video></figure><p>To try it, add the plugin:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">ReduxDevTools</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;uppy/lib/plugins/ReduxDevTools&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uppy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">ReduxDevTools</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And then
<a href="https://github.com/zalmoxisus/redux-devtools-extension" target="_blank" rel="noopener noreferrer">activate the browser extension</a>.</p><p>See <a href="https://github.com/transloadit/uppy/pull/373" target="_blank" rel="noopener noreferrer">#373</a> for details and
discussion.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="retries">Retries<a href="#retries" class="hash-link" aria-label="Direct link to Retries" title="Direct link to Retries">​</a></h2><p>We’ve added a retry UI to the <code>Dashboard</code>. If some of your uploads fail—maybe
the network is down or the endpoint is unresponsive—you’ll see this:</p><img loading="lazy" alt="Uppy Dashboard retry UI with individual retry buttons and “retry all”" src="/img/blog/0.20/retry.jpg" class="img_ev3q"><p>From here it’s easy to retry individual uploads or all at once. This feature
currenty works best with <code>Tus10</code> plugin, and has basic <code>XHRUpload</code> support, but
we’ll improve on the latter in the future releases.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="re-designed-drag-and-drop-plugin">Re-designed Drag and Drop plugin<a href="#re-designed-drag-and-drop-plugin" class="hash-link" aria-label="Direct link to Re-designed Drag and Drop plugin" title="Direct link to Re-designed Drag and Drop plugin">​</a></h2><p>The old trustly <code>DragDrop</code> plugin has been re-designed by
<a href="https://github.com/arturi" target="_blank" rel="noopener noreferrer">@arturi</a> and <a href="http://zaytsev.io" target="_blank" rel="noopener noreferrer">@nqst</a>:</p><ul><li>Fresh simple design, arrow icon, white background;</li><li>New sizing options: <code>width</code> and <code>height</code> (both <code>100%</code> by default to fill the
entire container space);</li><li>A <code>note</code> option, like in the <code>Dashboard</code>, to add info about restrictions or
anything else you would like your users to know.</li></ul><img loading="lazy" class="border img_ev3q" src="/img/blog/0.20/dnd-gray.jpg"><p><strong><a href="/uppy.io/pr-preview/pr-79/examples/dragdrop/">Check it out</a></strong></p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">uppy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">DragDrop</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">target</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;body&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">width</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;600px&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">height</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;300px&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">note</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Videos only, up to 100 MB&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-golden-retriever-cleans-up-after-itself">The Golden Retriever cleans up after itself<a href="#the-golden-retriever-cleans-up-after-itself" class="hash-link" aria-label="Direct link to The Golden Retriever cleans up after itself" title="Direct link to The Golden Retriever cleans up after itself">​</a></h2><p>We recently released the <code>GoldenRetriever</code> plugin, which stores selected files
on the client so that it can recover them after a browser crash. Previously,
these stored files would stay around forever, and clog up the user&#x27;s disk space.
As of 0.20.0, files will be removed from client-side storage when they have been
uploaded. Files that have had nothing happen to them for longer than 24 hours
will be cleaned up automatically. This timeframe can be configured using the new
<code>expires</code> option:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> ms </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;ms&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uppy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">GoldenRetriever</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">expires</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ms</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;4 hours&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>(The <a href="https://npmjs.com/package/ms" target="_blank" rel="noopener noreferrer"><code>ms</code></a> module is great for converting text
durations to milliseconds!)</p><p>This will clean up files when Uppy runs, but perhaps not every page of your app
uses Uppy. If a user selected some files, but then never came back to that same
page, files could still hang around for a long time. To aid this, there&#x27;s a new
module that you can call to clean up Uppy&#x27;s cache without needing an Uppy
instance:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> cleanup </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;uppy/lib/plugins/GoldenRetriever/cleanup&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cleanup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We&#x27;ll hopefully make that require path easier to remember in the future :)</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="misc-good-stuff">Misc good stuff<a href="#misc-good-stuff" class="hash-link" aria-label="Direct link to Misc good stuff" title="Direct link to Misc good stuff">​</a></h2><ul><li>The GoldenRetriever now detects a serviceWorker registration
automatically—it&#x27;s no longer necessary to emit an <code>core:sw-file-ready</code> event.</li><li>Request headers are now configurable in the AWS S3 plugin.</li><li>A new <code>setPluginState</code> allows plugins to set state scoped to the plugin.</li><li>Some unused code was removed 🎉</li><li>More tests were added! Thanks <a href="https://github.com/gavboulton" target="_blank" rel="noopener noreferrer">@gavboulton</a> and
<a href="https://github.com/richardwillars" target="_blank" rel="noopener noreferrer">@richardwillars</a> 🎉</li><li>Documentation for the <a href="/uppy.io/pr-preview/pr-79/docs/statusbar">StatusBar</a>,
<a href="/uppy.io/pr-preview/pr-79/docs/xhrupload">XHRUpload</a> and <a href="/uppy.io/pr-preview/pr-79/docs/tus">Tus</a> plugins.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="full-changelog">Full Changelog<a href="#full-changelog" class="hash-link" aria-label="Direct link to Full Changelog" title="Direct link to Full Changelog">​</a></h2><p>Here is the full list of changes for version <code>0.20.0</code> (and patch <code>0.19.1</code>):</p><ul><li>core: retry/error when upload can’t start or fails (offline, connection lost,
wrong endpoint); add error in file progress state, UI, question mark button
(#307 / @arturi)</li><li>core: support for retry in Tus plugin (#307 / @arturi)</li><li>core: support for retry in XHRUpload plugin (#307 / @arturi)</li><li>core: Add support for Redux DevTools via a plugin (#373 / @arturi)</li><li>core: improve and merge the React PR (#170 / @goto-bus-stop, @arturi)</li><li>core: improve core.log method, add timestamps (#372 / @arturi)</li><li>dragdrop: redesign, add note, width/height options, arrow icon (#374 /
@arturi)</li><li>uploaders: upload resolution changes, followup to #323 (#347 / @goto-bus-stop)</li><li>uploaders: issue warning when no uploading plugins are used (#372 / @arturi)</li><li>core: fix <code>replaceTargetContent</code> and add tests for <code>Plugin</code> (#354 /
@gavboulton)</li><li>goldenretriever: Omit completed uploads from saved file state—previously, when
an upload was finished and the user refreshed the page, all the finished files
would still be there because we saved the entire list of files. Changed this
to only store files that are part of an in-progress upload, or that have yet
to be uploaded (#358, #324 / @goto-bus-stop)</li><li>goldenretriever: Remove files from cache when upload finished—this uses the
deleteBlobs function when core:success fires (#358, #324 / @goto-bus-stop)</li><li>goldenretriever: add a timestamp to cached blobs, and to delete old blobs on
boot (#358, #324 / @goto-bus-stop)</li><li>s3: have some way to configure content-disposition for uploads, see #243
(@goto-bus-stop)</li><li>core: move <code>setPluginState</code> and add <code>getPluginState</code> to <code>Plugin</code> class (#363 /
@goto-bus-stop)</li><li>goldenretriever: fix restorefiles with id (#351 / @arturi)</li><li>goldenretriever: Clean up blobs that are not related to a file in state (#349
/ @goto-bus-stop)</li><li>core: set the newState before emiting <code>core:state-update</code> (#341 /
@sunil-shrestha, @arturi)</li><li>docs: Document StatusBar plugin (#350 / @goto-bus-stop)</li></ul><p>The Uppy Team</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_Wr5y"><div class="col margin-top--sm"><ul class="blog__post-footer__follow"><li><a href="https://twitter.com/uppy_io">Follow us on Twitter</a> or grab the <a href="https://uppy.io/blog/atom.xml">RSS feed</a></li><li><a class="github-button" href="https://github.com/transloadit/uppy" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star transloadit/uppy on GitHub">Star</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/uppy.io/pr-preview/pr-79/blog/2017/10/0.21"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Uppy 0.21: End to End Tests, Accessibility, Additional Security for Uppy Server</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/uppy.io/pr-preview/pr-79/blog/2017/09/0.19"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Uppy 0.19: Tests, Informer details and better APIs</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#uppy-react-components" class="table-of-contents__link toc-highlight">Uppy React components</a></li><li><a href="#redux" class="table-of-contents__link toc-highlight">Redux</a></li><li><a href="#redux-devtools" class="table-of-contents__link toc-highlight">Redux DevTools</a></li><li><a href="#retries" class="table-of-contents__link toc-highlight">Retries</a></li><li><a href="#re-designed-drag-and-drop-plugin" class="table-of-contents__link toc-highlight">Re-designed Drag and Drop plugin</a></li><li><a href="#the-golden-retriever-cleans-up-after-itself" class="table-of-contents__link toc-highlight">The Golden Retriever cleans up after itself</a></li><li><a href="#misc-good-stuff" class="table-of-contents__link toc-highlight">Misc good stuff</a></li><li><a href="#full-changelog" class="table-of-contents__link toc-highlight">Full Changelog</a></li></ul></div></div></div></div></div></div>
<script src="/uppy.io/pr-preview/pr-79/assets/js/runtime~main.794b5d7d.js"></script>
<script src="/uppy.io/pr-preview/pr-79/assets/js/main.ca086f97.js"></script>
</body>
</html>